<div class="row mt-5">
    <div class="col-4 mt-3">
        <div class="card">
            <div class="card-header">
                Pending Complaints...
            </div>
            <div class="card-title ml-5 mt-3">
                <button class="btn btn-success" (click)="fillComplaints()">Show Assigned Complaints</button>
            </div>
            <div class="card-body">
                <div class="clearfix" *ngFor="let complaint of complaints"> 
                   <span>
                       {{'Ref # : '&nbsp; + complaint.referenceNo}} 
                   </span> 
                   <span class="float-right">
                        <button class="btn btn-info" type="button" (click)="showDtails(complaint.$key)">Show Details</button> 
                    </span>
                    <hr class="mt-2">
                </div>
            </div>
        </div>
    </div>
    <div class="col mt-3">
        <div class="card-group" *ngIf="showDetails">
            <div class="card lead">
                <div class="card-header">Complaint Details</div>
                <div class="card-body">
                    <p class="card-text">
                        Generated on: {{complaintDetail.cdate | date: 'mediumDate'}} <br>
                        Assigned on: {{complaintDetail.jdate | date: 'mediumDate'}} <br>
                        Complaint : {{complaintDetail.complaint}} <br> 
                        Service: {{complaintDetail.service.name | titlecase}} <br>
                        Complaint status : {{complaintDetail.status}} 
                    </p>
                    <span class="mr-2">
                        <input type="radio" value="ESCALATED" name="status" [(ngModel)]="status">
                        <label for="status">Escalated</label>
                    </span>
                    <span class="mr-2">
                        <input type="radio" value="RESOLVED" name="status" [(ngModel)]="status">
                        <label for="status">Resolved</label>
                    </span>
                    <span class="mr-2">
                        <button class="btn btn-success" (click)="updateComplaint(complaintDetail.$key!)" type="button">Update Complaint Status</button>
                    </span>
                </div>
            </div>
            <div class="card lead">
                <div class="card-header">Customer's Details</div>
                <div class="card-body">
                    <p class="card-text">
                        Complainer's name: {{complaintDetail.customer?.userName}} <br>
                        Email: {{complaintDetail.customer?.email}} <br>
                        Mobile : {{complaintDetail.customer?.mobile}} <br>
                        Pincode : {{complaintDetail.customer?.pinCode}} <br>
                    </p>
                </div>
            </div>

        </div>
    </div>
</div>